<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>æ–°å¹´å¿«ä¹ - 2026å¹´æ–°å¹´ç¥ç¦</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        html, body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            background: linear-gradient(135deg, #0c0032 0%, #190061 25%, #240090 50%, #3500d3 100%);
            color: #fff;
            min-height: 100vh;
            position: relative;
            -webkit-tap-highlight-color: transparent;
            overflow-y: auto;
        }

        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.8;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 15px;
            position: relative;
            z-index: 2;
        }

        header {
            text-align: center;
            padding: 20px 0 30px;
            animation: fadeInDown 1s ease-out;
        }

        .logo {
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
            animation: float 3s ease-in-out infinite;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ffd700, #ff6b6b, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            line-height: 1.2;
        }

        .chinese-new-year {
            font-size: 1.5rem;
            color: #ff6b6b;
            margin: 10px 0;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            padding: 0 10px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: #e6e6fa;
            margin-bottom: 20px;
            letter-spacing: 1px;
            padding: 0 10px;
        }

        .year-display {
            font-size: 4rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 25px rgba(255, 215, 0, 0.8);
            margin: 15px 0;
            animation: pulse 2s infinite, glow 3s ease-in-out infinite;
            line-height: 1.1;
        }

        .content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 30px;
            margin-top: 30px;
        }

        .wishes-section {
            flex: 1;
            min-width: 100%;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.4s, box-shadow 0.4s, border-color 0.4s;
        }

        .wishes-section:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4), 0 0 20px rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.3);
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ffd700;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, transparent, #ffd700, transparent);
        }

        .wish-counter {
            font-size: 0.9rem;
            color: #b19cd9;
            text-align: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.05);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-left: 10px;
        }

        .wish-list {
            list-style: none;
        }

        .wish-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: all 0.3s;
            cursor: pointer;
            border-left: 4px solid transparent;
            position: relative;
            overflow: hidden;
            -webkit-tap-highlight-color: rgba(255, 215, 0, 0.1);
        }

        .wish-item:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transition: left 0.5s;
        }

        .wish-item:hover:before {
            left: 100%;
        }

        .wish-item:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateX(5px) scale(1.01);
            border-left: 4px solid #ffd700;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.2);
        }

        .wish-item.completed {
            background: rgba(76, 217, 100, 0.1);
            border-left: 4px solid #4cd964;
        }

        .wish-item.completed .wish-icon {
            background: rgba(76, 217, 100, 0.3);
            color: #4cd964;
        }

        .wish-item.completed .wish-text {
            text-decoration: line-through;
            opacity: 0.7;
        }

        .wish-icon {
            width: 45px;
            height: 45px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 1.3rem;
            color: #ffd700;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .wish-check {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 28px;
            height: 28px;
            background: rgba(76, 217, 100, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4cd964;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .wish-item.completed .wish-check {
            opacity: 1;
        }

        .wish-text {
            flex: 1;
            font-size: 1.1rem;
            transition: all 0.3s;
            line-height: 1.4;
        }

        .wish-progress {
            width: 0;
            height: 3px;
            background: #4cd964;
            position: absolute;
            bottom: 0;
            left: 0;
            transition: width 1s ease;
        }

        .wish-item.active .wish-text {
            color: #ffd700;
            font-weight: bold;
        }

        .interaction-section {
            flex: 1;
            min-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .firework {
            width: 250px;
            height: 250px;
            position: relative;
            margin-bottom: 25px;
        }

        .firework-center {
            width: 25px;
            height: 25px;
            background: #ffd700;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 20px #ffd700, 0 0 40px #ff6b6b;
            z-index: 1;
            animation: pulse 1.5s infinite alternate;
        }

        .firework-particle {
            position: absolute;
            width: 7px;
            height: 7px;
            background: #ff6b6b;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: explode 2s infinite;
        }

        .firework-particle:nth-child(2) {
            background: #4ecdc4;
            animation-delay: 0.2s;
        }

        .firework-particle:nth-child(3) {
            background: #ffd700;
            animation-delay: 0.4s;
        }

        .firework-particle:nth-child(4) {
            background: #9b5de5;
            animation-delay: 0.6s;
        }

        .firework-particle:nth-child(5) {
            background: #00bbf9;
            animation-delay: 0.8s;
        }

        .firework-particle:nth-child(6) {
            background: #f15bb5;
            animation-delay: 1s;
        }

        .firework-particle:nth-child(7) {
            background: #00f5d4;
            animation-delay: 1.2s;
        }

        .firework-particle:nth-child(8) {
            background: #ff9e00;
            animation-delay: 1.4s;
        }

        .wish-button {
            background: linear-gradient(to right, #ff6b6b, #ffd700);
            color: #0c0032;
            border: none;
            padding: 16px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
            width: 100%;
            max-width: 350px;
            -webkit-tap-highlight-color: rgba(255, 107, 107, 0.3);
        }

        .wish-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s;
        }

        .wish-button:hover:before {
            left: 100%;
        }

        .wish-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.6), 0 0 30px rgba(255, 215, 0, 0.4);
        }

        .wish-button:active {
            transform: translateY(0) scale(0.98);
        }

        .wish-button.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .wish-button.disabled:hover {
            transform: none;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        }

        .money-button {
            background: linear-gradient(to right, #4cd964, #ffd700);
            margin-top: 15px;
        }

        /* é‡‘å¸æ•ˆæœæ ·å¼ */
        .coin {
            position: fixed;
            font-size: 1.5rem;
            color: #ffd700;
            opacity: 0;
            z-index: 1;
            pointer-events: none;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        .coin-fall {
            position: fixed;
            font-size: 2rem;
            color: #ffd700;
            opacity: 0;
            z-index: 1;
            pointer-events: none;
            animation: coinFall 3s linear forwards;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.9);
        }

        /* æ–°å¢ï¼šåº†ç¥é‡‘å¸æ•ˆæœ */
        .coin-celebrate {
            position: fixed;
            font-size: 2rem;
            color: #ffd700;
            opacity: 0;
            z-index: 1;
            pointer-events: none;
            animation: coinCelebrate 3s ease-out forwards;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.9);
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 10px;
            border-radius: 15px;
            min-width: 80px;
            backdrop-filter: blur(5px);
            transition: transform 0.3s;
        }

        .countdown-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .countdown-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .countdown-label {
            font-size: 0.9rem;
            color: #e6e6fa;
            margin-top: 5px;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px 10px;
            color: #b19cd9;
            font-size: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-text {
            margin: 10px 0;
            font-size: 1.1rem;
            color: #ffd700;
        }

        .message {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px 15px;
            border-radius: 15px;
            margin-top: 25px;
            text-align: center;
            font-size: 1.2rem;
            line-height: 1.5;
            display: none;
            border-left: 5px solid #ffd700;
            width: 100%;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #4cd964, #ffd700);
            width: 0%;
            transition: width 1s ease;
            border-radius: 5px;
        }

        .message.show {
            display: block;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            0%, 100% {
                text-shadow: 0 0 25px rgba(255, 215, 0, 0.8);
            }
            50% {
                text-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 107, 107, 0.6);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }

        @keyframes explode {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0);
                opacity: 0;
            }
        }

        /* ä¿®å¤ï¼šé‡‘å¸ä»ä¸Šå‘ä¸‹æ‰è½åŠ¨ç”» */
        @keyframes coinFall {
            0% {
                transform: translateY(-100px) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(720deg) scale(0.8);
                opacity: 0;
            }
        }

        /* åº†ç¥é‡‘å¸æ•ˆæœ - ä»ä¸­å¿ƒå‘å››å‘¨æ‰©æ•£ */
        @keyframes coinCelebrate {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(calc(var(--tx) * 1px), calc(var(--ty) * 1px)) rotate(720deg) scale(0);
                opacity: 0;
            }
        }

        @keyframes snowFall {
            0% {
                transform: translateY(-10px) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(20px);
                opacity: 0;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* å“åº”å¼è®¾è®¡ - å¹³æ¿ */
        @media (min-width: 768px) {
            .container {
                padding: 25px 20px;
            }

            h1 {
                font-size: 3.2rem;
            }

            .year-display {
                font-size: 4.5rem;
            }

            .wishes-section, .interaction-section {
                min-width: calc(50% - 20px);
            }

            .wish-button {
                width: auto;
                max-width: none;
            }

            .firework {
                width: 280px;
                height: 280px;
            }
        }

        /* å“åº”å¼è®¾è®¡ - æ¡Œé¢ */
        @media (min-width: 1024px) {
            .container {
                padding: 30px;
            }

            h1 {
                font-size: 3.8rem;
            }

            .year-display {
                font-size: 5rem;
            }

            .wishes-section, .interaction-section {
                min-width: calc(50% - 20px);
            }

            .wish-item {
                padding: 15px;
            }

            .firework {
                width: 300px;
                height: 300px;
            }
        }

        /* å“åº”å¼è®¾è®¡ - å°æ‰‹æœº */
        @media (max-width: 360px) {
            h1 {
                font-size: 2.3rem;
            }

            .year-display {
                font-size: 3.2rem;
            }

            .chinese-new-year {
                font-size: 1.2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .countdown-item {
                min-width: 70px;
                padding: 12px 8px;
            }

            .countdown-value {
                font-size: 1.8rem;
            }

            .wish-text {
                font-size: 1rem;
            }

            .wish-icon {
                width: 40px;
                height: 40px;
                font-size: 1.1rem;
                margin-right: 10px;
            }

            .firework {
                width: 220px;
                height: 220px;
            }

            .wish-button {
                padding: 14px 25px;
                font-size: 1.1rem;
            }
        }

        /* æ¨ªå±æ¨¡å¼ä¼˜åŒ– */
        @media (max-height: 600px) and (orientation: landscape) {
            header {
                padding: 10px 0 20px;
            }

            .year-display {
                font-size: 3rem;
                margin: 10px 0;
            }

            .countdown {
                margin-top: 20px;
            }

            .content {
                margin-top: 20px;
            }

            .firework {
                width: 200px;
                height: 200px;
                margin-bottom: 15px;
            }
        }

        /* é˜²æ­¢ç§»åŠ¨ç«¯é•¿æŒ‰å¼¹å‡ºèœå• */
        .wish-item, .wish-button {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* ç¡®ä¿å†…å®¹å¯ä»¥æ»šåŠ¨ */
        .scrollable-content {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>
<body class="scrollable-content">
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-star"></i>
            </div>
            <h1>æ–°å¹´å¿«ä¹</h1>
            <div class="chinese-new-year">ğŸ‰ æ­å–œå‘è´¢ï¼Œä¸‡äº‹å¦‚æ„ğŸ‰</div>
            <div class="subtitle">code by Finnick</div>
            <div class="year-display" id="yearDisplay">2026</div>
        </header>

        <div class="content">
            <section class="wishes-section">
                <h2 class="section-title">æ–°å¹´æ„¿æœ›æ¸…å• <span class="wish-counter" id="wishCounter">å·²å®Œæˆ 0/5</span></h2>
                <ul class="wish-list">
                    <li class="wish-item" data-wish="1">
                        <div class="wish-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="wish-text">æˆ‘å¾—å¥åº·æ— ç–¾ç—…(åŒ…æ‹¬å®¶äººæœ‹å‹)</div>
                        <div class="wish-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="wish-progress"></div>
                    </li>
                    <li class="wish-item" data-wish="2">
                        <div class="wish-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="wish-text">æˆ‘å¾—å·¥ä½œé¡ºå¿ƒæ„(è¿œç¦»sb)</div>
                        <div class="wish-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="wish-progress"></div>
                    </li>
                    <li class="wish-item" data-wish="3">
                        <div class="wish-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="wish-text">æˆ‘å¾—èµšé’±å‘å¤§è´¢(æ²¡æœ‰ä¸Šé™)</div>
                        <div class="wish-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="wish-progress"></div>
                    </li>
                    <li class="wish-item" data-wish="4">
                        <div class="wish-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="wish-text">æ¡ä¸ªé¦™å¥ˆå„¿é€è€åˆ˜å¤ªå¤ª(å°½é‡æ¡)</div>
                        <div class="wish-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="wish-progress"></div>
                    </li>
                    <li class="wish-item" data-wish="5">
                        <div class="wish-icon">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <div class="wish-text">ä¸–ç•Œå’Œå¹³</div>
                        <div class="wish-check">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="wish-progress"></div>
                    </li>
                </ul>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </section>

            <section class="interaction-section">
                <div class="firework">
                    <div class="firework-center"></div>
                    <div class="firework-particle" style="--tx: 0px; --ty: -120px;"></div>
                    <div class="firework-particle" style="--tx: 85px; --ty: -85px;"></div>
                    <div class="firework-particle" style="--tx: 120px; --ty: 0px;"></div>
                    <div class="firework-particle" style="--tx: 85px; --ty: 85px;"></div>
                    <div class="firework-particle" style="--tx: 0px; --ty: 120px;"></div>
                    <div class="firework-particle" style="--tx: -85px; --ty: 85px;"></div>
                    <div class="firework-particle" style="--tx: -120px; --ty: 0px;"></div>
                    <div class="firework-particle" style="--tx: -85px; --ty: -85px;"></div>
                </div>

                <button class="wish-button" id="wishButton">
                    <i class="fas fa-gift"></i> è·å–æˆ‘çš„æ–°å¹´ç¥ç¦
                </button>

                <div class="message" id="wishMessage">
                    ç¥æ‚¨åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œå¿ƒæƒ³äº‹æˆï¼Œä¸‡äº‹å¦‚æ„ï¼æ‰€æœ‰çš„æ„¿æœ›éƒ½èƒ½å®ç°ï¼Œæ¯ä¸€å¤©éƒ½å……æ»¡å–œæ‚¦å’Œæ”¶è·ï¼
                </div>
            </section>
        </div>

        <footer>
            <p class="footer-text">Â© Finn çš„æ–°å¹´ç¥ç¦</p>
            <p>ç¥ä½ æˆåŠŸï¼æ„¿2026å¹´æ‰€æœ‰çš„æ„¿æœ›éƒ½èƒ½å®ç°ï¼</p>
        </footer>
    </div>

    <script>
        // ä¿®å¤æ»šåŠ¨é—®é¢˜
        function fixMobileScrolling() {
            // ç¡®ä¿bodyå¯ä»¥æ»šåŠ¨
            document.body.style.overflowY = 'auto';
            document.body.style.height = 'auto';
            document.body.style.minHeight = '100vh';

            // é˜²æ­¢iOSæ©¡çš®ç­‹æ•ˆæœè¿‡äºå¼ºçƒˆ
            document.addEventListener('touchmove', function(e) {
                // å…è®¸æ­£å¸¸æ»šåŠ¨
            }, { passive: true });

            // é˜²æ­¢åŒå‡»ç¼©æ”¾
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
        }

        // åˆ›å»ºé›ªèŠ±æ•ˆæœ
        function createSnowflakes() {
            const snowflakeCount = window.innerWidth < 768 ? 20 : 30;

            for (let i = 0; i < snowflakeCount; i++) {
                setTimeout(() => {
                    const snowflake = document.createElement('div');
                    snowflake.classList.add('snowflake');

                    // éšæœºå¤§å°
                    const size = Math.random() * 6 + 3;
                    snowflake.style.width = `${size}px`;
                    snowflake.style.height = `${size}px`;

                    // éšæœºä½ç½®
                    snowflake.style.left = `${Math.random() * 100}vw`;
                    snowflake.style.top = `-10px`;

                    // éšæœºé€æ˜åº¦
                    snowflake.style.opacity = Math.random() * 0.5 + 0.3;

                    // éšæœºåŠ¨ç”»æ—¶é•¿
                    const duration = Math.random() * 10 + 10;
                    snowflake.style.animation = `snowFall ${duration}s linear infinite`;

                    // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                    snowflake.style.animationDelay = `${Math.random() * 5}s`;

                    document.body.appendChild(snowflake);

                    // ç§»é™¤é›ªèŠ±ä»¥ä¼˜åŒ–æ€§èƒ½
                    setTimeout(() => {
                        if (snowflake.parentNode) {
                            snowflake.remove();
                        }
                    }, duration * 1000);
                }, i * 300);
            }

            // å®šæœŸåˆ›å»ºæ–°é›ªèŠ±
            setTimeout(createSnowflakes, 15000);
        }

        // åˆ›å»ºé‡‘å¸æ‰è½æ•ˆæœ - ä»ä¸Šå‘ä¸‹æ‰è½
        function createMoneyFall() {
            const moneyCount = window.innerWidth < 768 ? 20 : 35;
            const moneyButton = document.getElementById('moneyButton');
            moneyButton.classList.add('disabled');
            moneyButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> é‡‘å¸æ‰è½ä¸­...';

            // é‡‘å¸ç±»å‹
            const coinTypes = ['ğŸ’°', 'ğŸª™', 'ğŸ’µ', 'ğŸ’', 'ğŸ’¶', 'ğŸ’·', 'ğŸ’´'];

            for (let i = 0; i < moneyCount; i++) {
                setTimeout(() => {
                    const coin = document.createElement('div');
                    coin.classList.add('coin-fall');

                    // éšæœºé€‰æ‹©é‡‘å¸ç±»å‹
                    const coinType = coinTypes[Math.floor(Math.random() * coinTypes.length)];
                    coin.innerHTML = coinType;

                    // éšæœºæ°´å¹³ä½ç½®
                    coin.style.left = `${Math.random() * 90 + 5}vw`;

                    // éšæœºå¤§å°
                    const fontSize = Math.random() * 25 + 20;
                    coin.style.fontSize = `${fontSize}px`;

                    // éšæœºåŠ¨ç”»æ—¶é•¿
                    const duration = Math.random() * 2 + 2;
                    coin.style.animationDuration = `${duration}s`;

                    // éšæœºå»¶è¿Ÿå¼€å§‹
                    coin.style.animationDelay = `${Math.random() * 0.5}s`;

                    document.body.appendChild(coin);

                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (coin.parentNode) {
                            coin.remove();
                        }
                    }, (duration + 0.5) * 1000);
                }, i * 80); // æ›´å¯†é›†çš„é‡‘å¸æ‰è½
            }

            // é‡ç½®æŒ‰é’®çŠ¶æ€
            setTimeout(() => {
                moneyButton.classList.remove('disabled');
                moneyButton.innerHTML = '<i class="fas fa-money-bill-wave"></i> æ‰è½é‡‘å¸ç¥ˆç¦';

                // æ˜¾ç¤ºç¥ç¦æ¶ˆæ¯
                const moneyMessages = [
                    "ğŸ’° è´¢ç¥åˆ°ï¼2026å¹´è´¢è¿äº¨é€šï¼Œæ—¥è¿›æ–—é‡‘ï¼",
                    "ğŸª™ é‡‘å¸æ»šæ»šæ¥ï¼Œæ–°å¹´å‘å¤§è´¢ï¼",
                    "ğŸ’µ æ­å–œå‘è´¢ï¼Œçº¢åŒ…æ‹¿æ¥ï¼ç¥ä½ è´¢æºå¹¿è¿›ï¼",
                    "ğŸ’ é‡‘ç‰æ»¡å ‚ï¼Œå¯Œè´µå‰ç¥¥ï¼Œæ–°å¹´èµšå¤§é’±ï¼"
                ];

                const randomIndex = Math.floor(Math.random() * moneyMessages.length);
                const messageElement = document.getElementById('wishMessage');
                messageElement.textContent = moneyMessages[randomIndex];
                messageElement.classList.add('show');

                // åŒæ—¶åˆ›å»ºä¸€äº›åº†ç¥é‡‘å¸æ•ˆæœ
                createCelebrateCoins();

            }, moneyCount * 80 + 2000);
        }

        // åˆ›å»ºåº†ç¥é‡‘å¸æ•ˆæœ - ä»ä¸­å¿ƒå‘å››å‘¨æ‰©æ•£
        function createCelebrateCoins() {
            const coinCount = window.innerWidth < 768 ? 25 : 40;
            const coinTypes = ['ğŸ’°', 'ğŸª™', 'ğŸ’µ', 'ğŸ’', 'ğŸ’¶', 'ğŸ’·', 'ğŸ’´'];

            // è·å–å±å¹•ä¸­å¿ƒ
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;

            for (let i = 0; i < coinCount; i++) {
                setTimeout(() => {
                    const coin = document.createElement('div');
                    coin.classList.add('coin-celebrate');

                    // éšæœºé€‰æ‹©é‡‘å¸ç±»å‹
                    const coinType = coinTypes[Math.floor(Math.random() * coinTypes.length)];
                    coin.innerHTML = coinType;

                    // è®¾ç½®èµ·å§‹ä½ç½®ä¸ºå±å¹•ä¸­å¿ƒ
                    coin.style.left = `${centerX}px`;
                    coin.style.top = `${centerY}px`;

                    // éšæœºå¤§å°
                    const fontSize = Math.random() * 20 + 15;
                    coin.style.fontSize = `${fontSize}px`;

                    // éšæœºæ–¹å‘è§’åº¦
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 100 + Math.random() * 300;
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance;

                    // è®¾ç½®CSSè‡ªå®šä¹‰å±æ€§
                    coin.style.setProperty('--tx', tx);
                    coin.style.setProperty('--ty', ty);

                    // éšæœºåŠ¨ç”»æ—¶é•¿
                    const duration = Math.random() * 2 + 1.5;
                    coin.style.animationDuration = `${duration}s`;

                    document.body.appendChild(coin);

                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (coin.parentNode) {
                            coin.remove();
                        }
                    }, duration * 1000);
                }, i * 30);
            }
        }

        // åˆ›å»ºé‡‘å¸é£èˆæ•ˆæœï¼ˆç”¨äºå…¶ä»–åº†ç¥åœºåˆï¼‰
        function createCoins() {
            const coinCount = window.innerWidth < 768 ? 20 : 30;
            const coinTypes = ['ğŸ’°', 'ğŸª™', 'ğŸ’µ', 'ğŸ’', 'ğŸ’¶', 'ğŸ’·', 'ğŸ’´'];

            for (let i = 0; i < coinCount; i++) {
                setTimeout(() => {
                    const coin = document.createElement('div');
                    coin.classList.add('coin-celebrate');

                    // éšæœºé€‰æ‹©é‡‘å¸ç±»å‹
                    const coinType = coinTypes[Math.floor(Math.random() * coinTypes.length)];
                    coin.innerHTML = coinType;

                    // è®¾ç½®èµ·å§‹ä½ç½®ä¸ºéšæœºä½ç½®
                    const startX = Math.random() * window.innerWidth;
                    const startY = Math.random() * window.innerHeight;
                    coin.style.left = `${startX}px`;
                    coin.style.top = `${startY}px`;

                    // éšæœºå¤§å°
                    const fontSize = Math.random() * 20 + 15;
                    coin.style.fontSize = `${fontSize}px`;

                    // éšæœºæ–¹å‘
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 50 + Math.random() * 150;
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance;

                    // è®¾ç½®CSSè‡ªå®šä¹‰å±æ€§
                    coin.style.setProperty('--tx', tx);
                    coin.style.setProperty('--ty', ty);

                    // éšæœºåŠ¨ç”»æ—¶é•¿
                    const duration = Math.random() * 2 + 1.5;
                    coin.style.animationDuration = `${duration}s`;

                    document.body.appendChild(coin);

                    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                    setTimeout(() => {
                        if (coin.parentNode) {
                            coin.remove();
                        }
                    }, duration * 1000);
                }, i * 50);
            }
        }

        // æ›´æ–°æ„¿æœ›å®Œæˆè¿›åº¦
        function updateWishProgress() {
            const completedWishes = document.querySelectorAll('.wish-item.completed').length;
            const totalWishes = document.querySelectorAll('.wish-item').length;
            const progress = (completedWishes / totalWishes) * 100;

            document.getElementById('wishCounter').textContent = `å·²å®Œæˆ ${completedWishes}/${totalWishes}`;
            document.getElementById('progressFill').style.width = `${progress}%`;

            // å¦‚æœæ‰€æœ‰æ„¿æœ›éƒ½å®Œæˆäº†
            if (completedWishes === totalWishes) {
                const messageElement = document.getElementById('wishMessage');
                messageElement.textContent = "ğŸ‰ å¤ªæ£’äº†ï¼æ‚¨å·²å®Œæˆæ‰€æœ‰æ–°å¹´æ„¿æœ›ï¼2026å¹´ä¸€å®šä¼šå¥½è¿è¿è¿ï¼";
                messageElement.classList.add('show');

                // åˆ›å»ºç››å¤§åº†ç¥æ•ˆæœ
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createCelebrateCoins();
                    }, i * 100);
                }
            }
        }

        // å€’è®¡æ—¶åŠŸèƒ½
        function updateCountdown() {
            const now = new Date();
            const newYear = new Date(now.getFullYear() + 1, 0, 1); // ä¸‹ä¸€å¹´çš„1æœˆ1æ—¥
            const diff = newYear - now;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');

            // æ¯å¤©æ›´æ–°ä¸€æ¬¡å¹´ä»½
            if (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {
                updateYear();
            }
        }

        // æ„¿æœ›äº¤äº’åŠŸèƒ½
        document.querySelectorAll('.wish-item').forEach(item => {
            item.addEventListener('click', function() {
                // åˆ‡æ¢å®ŒæˆçŠ¶æ€
                this.classList.toggle('completed');

                // è·å–æ„¿æœ›ID
                const wishId = parseInt(this.getAttribute('data-wish'));

                // æ˜¾ç¤ºå¯¹åº”çš„ç¥ç¦æ¶ˆæ¯
                const messages = [
                    "å¥åº·æ˜¯äººç”Ÿæœ€å¤§çš„è´¢å¯Œï¼Œæ„¿æ‚¨å’Œå®¶äººæ–°å¹´å¥åº·å¹³å®‰ï¼Œæ— ç—…æ— ç¾ï¼",
                    "å·¥ä½œé¡ºåˆ©ï¼Œäº‹ä¸šè…¾é£ï¼Œè¿œç¦»çƒ¦æ¼ï¼ŒèŒåœºäººé™…å…³ç³»å’Œè°ï¼",
                    "è´¢æºå¹¿è¿›ï¼Œæ—¥è¿›æ–—é‡‘ï¼Œèµšé’±æ²¡æœ‰ä¸Šé™ï¼Œæ—©æ—¥å®ç°è´¢å¯Œè‡ªç”±ï¼",
                    "å­å¿ƒæ„ŸåŠ¨å¤©åœ°ï¼Œé¦™å¥ˆå„¿ä¼šæœ‰çš„ï¼Œè€åˆ˜å¤ªå¤ªä¸€å®šä¼šå¼€å¿ƒçš„ï¼",
                    "ä¸–ç•Œå’Œå¹³æ˜¯å…¨äººç±»çš„å…±åŒæ„¿æœ›ï¼Œæ„¿æ–°çš„ä¸€å¹´å…¨çƒæ›´åŠ å’Œè°å®‰å®ï¼"
                ];

                const messageElement = document.getElementById('wishMessage');
                if (this.classList.contains('completed')) {
                    messageElement.textContent = `âœ… å·²è®¸æ„¿ï¼š${messages[wishId-1]}`;

                    // ä¸ºå®Œæˆçš„æ„¿æœ›æ·»åŠ è¿›åº¦æ¡åŠ¨ç”»
                    const progressBar = this.querySelector('.wish-progress');
                    progressBar.style.width = '100%';

                    // åˆ›å»ºåº†ç¥æ•ˆæœ
                    createCoins();
                } else {
                    messageElement.textContent = `ğŸ“ æ„¿æœ›å·²å–æ¶ˆï¼š${this.querySelector('.wish-text').textContent}`;

                    // é‡ç½®è¿›åº¦æ¡
                    const progressBar = this.querySelector('.wish-progress');
                    progressBar.style.width = '0%';
                }

                messageElement.classList.add('show');

                // æ›´æ–°è¿›åº¦
                updateWishProgress();
            });

            // æ·»åŠ è§¦æ‘¸åé¦ˆ
            item.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            });

            item.addEventListener('touchend', function() {
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // æ„¿æœ›æŒ‰é’®åŠŸèƒ½
        document.getElementById('wishButton').addEventListener('click', function() {
            const messages = [
                "ğŸ¯ æ„¿æ‚¨åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œå¿ƒæƒ³äº‹æˆï¼Œä¸‡äº‹å¦‚æ„ï¼",
                "ğŸ§§ ç¥æ‚¨æ–°å¹´å¿«ä¹ï¼Œé˜–å®¶å¹¸ç¦ï¼Œè´¢æºå¹¿è¿›ï¼",
                "ğŸ’ª æ„¿æ–°å¹´å¸¦ç»™æ‚¨å¥åº·ã€å¹¸ç¦å’Œæ— é™çš„å–œæ‚¦ï¼",
                "ğŸš€ ç¥æ‚¨äº‹ä¸šè…¾é£ï¼Œå­¦ä¸šè¿›æ­¥ï¼Œçˆ±æƒ…ç”œèœœï¼",
                "ğŸŒŸ æ„¿æ‚¨åœ¨æ–°çš„ä¸€å¹´é‡Œï¼Œæ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œå¸Œæœ›ï¼",
                "ğŸ€ ç¥æ‚¨æ–°å¹´æ–°æ°”è±¡ï¼Œæ¢¦æƒ³æˆçœŸï¼Œå¥½è¿è¿è¿ï¼",
                "ğŸ 2026å¹´ï¼Œæ‰€æœ‰çš„ç¾å¥½éƒ½ä¼šä¸æ‚¨ä¸æœŸè€Œé‡ï¼",
                "âœ¨ æ–°å¹´æ–°èµ·ç‚¹ï¼Œæ„¿æ‚¨å¼€å¯äººç”Ÿæ–°ç¯‡ç« ï¼"
            ];

            const randomIndex = Math.floor(Math.random() * messages.length);
            const messageElement = document.getElementById('wishMessage');
            messageElement.textContent = messages[randomIndex];
            messageElement.classList.add('show');

            // åˆ›å»ºåº†ç¥æ•ˆæœ
            createCoins();

            // æŒ‰é’®åŠ¨ç”»
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });

        // é‡‘å¸æŒ‰é’®åŠŸèƒ½
        document.getElementById('moneyButton').addEventListener('click', function() {
            if (!this.classList.contains('disabled')) {
                createMoneyFall();
            }
        });

        // æ·»åŠ è§¦æ‘¸åé¦ˆ
        document.querySelectorAll('.wish-button').forEach(button => {
            button.addEventListener('touchstart', function() {
                if (!this.classList.contains('disabled')) {
                    this.style.transform = 'scale(0.95)';
                }
            });

            button.addEventListener('touchend', function() {
                if (!this.classList.contains('disabled')) {
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                }
            });
        });

        // å¹´ä»½æ›´æ–°
        function updateYear() {
            const now = new Date();
            const year = now.getFullYear();
            document.getElementById('yearDisplay').textContent = year;

            // æ·»åŠ å¹´ä»½åŠ¨ç”»æ•ˆæœ
            const yearElement = document.getElementById('yearDisplay');
            yearElement.style.animation = 'none';
            setTimeout(() => {
                yearElement.style.animation = 'pulse 2s infinite, glow 3s ease-in-out infinite';
            }, 10);
        }

        // åˆå§‹åŒ–
        updateYear();
        updateCountdown();
        setInterval(updateCountdown, 1000);

        // ä¿®å¤ç§»åŠ¨ç«¯æ»šåŠ¨
        fixMobileScrolling();

        // å¯åŠ¨é›ªèŠ±æ•ˆæœ
        setTimeout(createSnowflakes, 1000);

        // æ›´æ–°æ„¿æœ›è¿›åº¦
        updateWishProgress();

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºä¸€ä¸ªæ¬¢è¿æ¶ˆæ¯
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('wishMessage').classList.add('show');

                // ä¸ºæ„¿æœ›å›¾æ ‡æ·»åŠ è½»å¾®æµ®åŠ¨æ•ˆæœ
                document.querySelectorAll('.wish-icon').forEach((icon, index) => {
                    icon.style.animation = `float 3s ease-in-out ${index * 0.2}s infinite`;
                });
            }, 1000);
        });

        // å¤„ç†æ¨ªç«–å±åˆ‡æ¢
        window.addEventListener('resize', function() {
            // é‡æ–°è®¡ç®—ä¸€äº›å…ƒç´ çš„å¤§å°
            updateYear();
        });

        // ç¡®ä¿é¡µé¢å¯ä»¥æ»šåŠ¨
        document.addEventListener('touchmove', function(e) {
            // å…è®¸æ»šåŠ¨
        }, { passive: true });

        // é˜²æ­¢iOSçš„æ©¡çš®ç­‹æ•ˆæœå¯¼è‡´é¡µé¢æ— æ³•æ»šåŠ¨
        document.body.addEventListener('touchmove', function(e) {
            if (e.target.tagName !== 'BUTTON' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                // å…è®¸é»˜è®¤æ»šåŠ¨è¡Œä¸º
            }
        }, { passive: true });
    </script>
</body>
</html>
